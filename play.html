<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Wedding Match</title>
  <link rel="shortcut icon" href="TemplateData/favicon.ico">
  <link rel="stylesheet" href="TemplateData/style.css">
  <script src="TemplateData/UnityProgress.js"></script>
  <script src="Build/UnityLoader.js"></script>
  <script>
    var gameInstance = UnityLoader.instantiate("gameContainer", "Build/build.json", { onProgress: UnityProgress });
    let adjust = function(){
        // Get Params
        let url = new URL(location.href);         
        let height = Number(url.searchParams.get('height'));
        let ratio = Number(url.searchParams.get('ratio'));              
        let padding = Number(url.searchParams.get('padding'));
      
        // Calc Final Resolution
        height = height || window.innerHeight;
        ratio = ratio || 0.5625; // 0.5625 is 9:16
        padding = padding || 0.2;
        let finalWidth = height * ratio * (1 - padding);
        let finalHeight = height * (1 - padding);
        
        // Set Final Resolution
        let panel = document.getElementById("gameContainer");
        panel.style.width = finalWidth + "px";
        panel.style.height = finalHeight + "px";
        console.log("adjust gameConatiner to " + width + "x" + height);        
    }
  </script>  
</head>

<body>
  <div class="webgl-content">    
    <div id="gameContainer" style="width: 1080px; height: 1920px"></div>
    <script>adjust();</script>
    <div class="footer">
      <div class="webgl-logo"></div>
      <div class="fullscreen" onclick="gameInstance.SetFullscreen(1)"></div>
      <div class="title">WeddingMarch</div>
    </div>
  </div>
</body>
</html>
